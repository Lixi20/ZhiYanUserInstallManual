== CentOS6

=== 关闭SELINUX
[source, bash]
----
echo SELINUX=disabled>/etc/selinux/config
echo SELINUXTYPE=targeted>>/etc/selinux/config
----

=== 安装仓库

[source, bash]
----
yum install -y https://packages.cdgeekcamp.com/zhiyan/el/6/x86_64/gc-zy-release-latest-6.x86_64.rpm
----

确认仓库是否存在：

[source, bash]
----
yum repolist | grep gc-zy
----

如有以下输出就表示仓库安装成功：
----
[root@localhost ~]# yum repolist | grep gc-zy
gc-zy                    gc-zy                                                25
----

=== 生成yum缓存

[source, bash]
----
yum clean all && yum makecache
----

=== 安装智眼服务端

==== 安装 zhiyan-web

[source, bash]
----
yum install -y gc-zy-web
----

如有以下输出就表示zhiyan-web安装成功：

----
[root@localhost ~]# yum install -y gc-zy-web
已加载插件：fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * centos-sclo-rh: mirrors.huaweicloud.com
 * centos-sclo-sclo: mirrors.huaweicloud.com
 * epel: mirrors.bfsu.edu.cn
 * extras: mirrors.huaweicloud.com
 * updates: mirrors.aliyun.com
正在解决依赖关系
--> 正在检查事务
---> 软件包 gc-zy-web.x86_64.0.0.0.1.0-1 将被 安装
--> 解决依赖关系完成

........
........

已安装:
  gc-zy-web.x86_64 0:0.0.1.0-1                                                                  

完毕！
----

==== 安装 zhiyan-web-server

[source, bash]
----
yum install -y gc-zy-web-server
----

如有以下输出就表示zhiyan-web-server安装成功：

----
[root@localhost ~]# yum install -y gc-zy-web-server
已加载插件：fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * centos-sclo-rh: mirrors.huaweicloud.com
 * centos-sclo-sclo: mirrors.huaweicloud.com
 * epel: mirrors.bfsu.edu.cn
 * extras: mirrors.huaweicloud.com
 * updates: mirrors.aliyun.com
正在解决依赖关系
--> 正在检查事务
---> 软件包 gc-zy-web-server.x86_64.0.0.0.1.0-1 将被 安装
--> 解决依赖关系完成

........
........

已安装:
  gc-zy-web-server.x86_64 0:0.0.1.0-1                                                           

完毕！
----

==== 安装 zhiyan-server

[source, bash]
----
yum install -y gc-zy-server
----

如有以下输出就表示zhiyan-server安装成功：

----
[root@localhost ~]# yum install -y gc-zy-server
已加载插件：fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * centos-sclo-rh: mirrors.huaweicloud.com
 * centos-sclo-sclo: mirrors.huaweicloud.com
 * epel: mirrors.bfsu.edu.cn
 * extras: mirrors.huaweicloud.com
 * updates: mirrors.aliyun.com
正在解决依赖关系
--> 正在检查事务
---> 软件包 gc-zy-server.x86_64.0.0.0.1.0-1 将被 安装
--> 解决依赖关系完成

........
........

已安装:
  gc-zy-server.x86_64 0:0.0.1.0-1                                                               

完毕！
----

=== 安装智眼客户端

==== 安装 zhiyan-db

[source, bash]
----
yum install -y gc-zy-db-12-libs gc-zy-db-12 gc-zy-db-12-server
----

如有以下输出就表示zhiyan-db安装成功：

----
[root@localhost ~]# yum install -y gc-zy-db-12-libs gc-zy-db-12 gc-zy-db-12-server
已加载插件：fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * centos-sclo-rh: mirrors.huaweicloud.com
 * centos-sclo-sclo: mirrors.huaweicloud.com
 * epel: mirrors.bfsu.edu.cn
 * extras: mirrors.huaweicloud.com
 * updates: mirrors.aliyun.com
正在解决依赖关系
--> 正在检查事务
---> 软件包 gc-zy-db-12.x86_64.0.12.11-2PGDG.el7 将被 安装
---> 软件包 gc-zy-db-12-libs.x86_64.0.12.11-2PGDG.el7 将被 安装
---> 软件包 gc-zy-db-12-server.x86_64.0.12.11-2PGDG.el7 将被 安装
--> 解决依赖关系完成

........
........

已安装:
  gc-zy-db-12.x86_64 0:12.11-2PGDG.el7            gc-zy-db-12-libs.x86_64 0:12.11-2PGDG.el7    
  gc-zy-db-12-server.x86_64 0:12.11-2PGDG.el7    

完毕！
----

==== 安装 zhiyan-agent

[source, bash]
----
yum install -y gc-zy-agent
----

如有以下输出就表示zhiyan-agent安装成功：

----
[root@localhost ~]# yum install -y gc-zy-agent
已加载插件：fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * centos-sclo-rh: mirrors.huaweicloud.com
 * centos-sclo-sclo: mirrors.huaweicloud.com
 * epel: mirrors.bfsu.edu.cn
 * extras: mirrors.huaweicloud.com
 * updates: mirrors.aliyun.com
正在解决依赖关系
--> 正在检查事务
---> 软件包 gc-zy-agent.x86_64.0.0.0.1.0-1 将被 安装
--> 解决依赖关系完成

........
........

已安装:
  gc-zy-agent.x86_64 0:0.0.1.0-1                                                                

完毕
----

==== 安装 python lib库

[source, bash]
----
yum install -y gc-zy-libzygrpc-python gc-zy-libzymod-python
----

如有以下输出就表示python lib库安装成功：

----
[root@localhost ~]# yum install -y gc-zy-libzygrpc-python gc-zy-libzymod-python
已加载插件：fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * centos-sclo-rh: mirrors.huaweicloud.com
 * centos-sclo-sclo: mirrors.huaweicloud.com
 * epel: mirrors.bfsu.edu.cn
 * extras: mirrors.huaweicloud.com
 * updates: mirrors.aliyun.com
正在解决依赖关系
--> 正在检查事务
---> 软件包 gc-zy-libzygrpc-python.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-libzymod-python.x86_64.0.0.0.1.0-1 将被 安装
--> 解决依赖关系完成

........
........

已安装:
  gc-zy-libzygrpc-python.x86_64 0:0.0.1.0-1       gc-zy-libzymod-python.x86_64 0:0.0.1.0-1      

完毕！
----

==== 安装 zhiyan-module

[source, bash]
----
yum install -y gc-zy-mod-bandwidth gc-zy-mod-cpu gc-zy-mod-dns gc-zy-mod-processes gc-zy-mod-network-address gc-zy-mod-filesystem gc-zy-mod-hostname gc-zy-mod-io gc-zy-mod-load gc-zy-mod-memory gc-zy-mod-network gc-zy-mod-network-route gc-zy-mod-swap gc-zy-mod-tasks gc-zy-mod-uptime
----

如有以下输出就表示zhiyan-module安装成功：

----
[root@localhost ~]# yum install -y gc-zy-mod-bandwidth gc-zy-mod-cpu gc-zy-mod-dns gc-zy-mod-processes gc-zy-mod-network-address gc-zy-mod-filesystem gc-zy-mod-hostname gc-zy-mod-io gc-zy-mod-load gc-zy-mod-memory gc-zy-mod-network gc-zy-mod-network-route gc-zy-mod-swap gc-zy-mod-tasks gc-zy-mod-uptime
已加载插件：fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * centos-sclo-rh: mirrors.huaweicloud.com
 * centos-sclo-sclo: mirrors.huaweicloud.com
 * epel: mirrors.bfsu.edu.cn
 * extras: mirrors.huaweicloud.com
 * updates: mirrors.aliyun.com
正在解决依赖关系
--> 正在检查事务
---> 软件包 gc-zy-mod-bandwidth.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-cpu.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-dns.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-filesystem.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-hostname.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-io.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-load.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-memory.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-network.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-network-address.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-network-route.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-processes.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-swap.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-tasks.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-uptime.x86_64.0.0.0.1.0-1 将被 安装
--> 解决依赖关系完成

........
........

已安装:
  gc-zy-mod-bandwidth.x86_64 0:0.0.1.0-1        gc-zy-mod-cpu.x86_64 0:0.0.1.0-1               
  gc-zy-mod-dns.x86_64 0:0.0.1.0-1              gc-zy-mod-filesystem.x86_64 0:0.0.1.0-1        
  gc-zy-mod-hostname.x86_64 0:0.0.1.0-1         gc-zy-mod-io.x86_64 0:0.0.1.0-1                
  gc-zy-mod-load.x86_64 0:0.0.1.0-1             gc-zy-mod-memory.x86_64 0:0.0.1.0-1            
  gc-zy-mod-network.x86_64 0:0.0.1.0-1          gc-zy-mod-network-address.x86_64 0:0.0.1.0-1   
  gc-zy-mod-network-route.x86_64 0:0.0.1.0-1    gc-zy-mod-processes.x86_64 0:0.0.1.0-1         
  gc-zy-mod-swap.x86_64 0:0.0.1.0-1             gc-zy-mod-tasks.x86_64 0:0.0.1.0-1             
  gc-zy-mod-uptime.x86_64 0:0.0.1.0-1          

完毕！
----

=== 使用

==== 运行智眼脚本

[source, bash]
----
sh /opt/gc/zy/bin/gc-zy-init
----

访问网页：

----
http://localhost:6222
----

默认帐号密码：

----
帐号：admin

密码：zhiyan
----

=== 系统命令管理服务端

zhiyan-web-server
[source, bash]
----
chkconfig --add gc-zy-web-server
chkconfig gc-zy-web-server on
service gc-zy-web-server restart
service gc-zy-web-server stop
service gc-zy-web-server status
----

zhiyan-server
[source, bash]
----
chkconfig --add gc-zy-server
chkconfig gc-zy-server on
service gc-zy-server restart
service gc-zy-server stop
service gc-zy-server status
----

=== 系统命令管理客户端

zhiyan-agent

[source, bash]
----
chkconfig --add gc-zy-agent
chkconfig gc-zy-agent on
service gc-zy-agent restart
service gc-zy-agent stop
service gc-zy-agent status
----

zhiyan-mod-bandwidth
[source, bash]
----
chkconfig --add gc-zy-mod-bandwidth
chkconfig gc-zy-mod-bandwidth on
service gc-zy-mod-bandwidth restart
service gc-zy-mod-bandwidth stop
service gc-zy-mod-bandwidth status
----

zhiyan-mod-cpu
[source, bash]
----
chkconfig --add gc-zy-mod-cpu
chkconfig gc-zy-mod-cpu on
service gc-zy-mod-cpu restart
service gc-zy-mod-cpu stop
service gc-zy-mod-cpu status
----

zhiyan-mod-dns
[source, bash]
----
chkconfig --add gc-zy-mod-dns
chkconfig gc-zy-mod-dns on
service gc-zy-mod-dns restart
service gc-zy-mod-dns stop
service gc-zy-mod-dns status
----

zhiyan-mod-hostname
[source, bash]
----
chkconfig --add gc-zy-mod-hostname
chkconfig gc-zy-mod-hostname on 
service gc-zy-mod-hostname restart
service gc-zy-mod-hostname stop 
service gc-zy-mod-hostname status
----

zhiyan-mod-io
[source, bash]
----
chkconfig --add gc-zy-mod-io
chkconfig gc-zy-mod-io on 
service gc-zy-mod-io restart
service gc-zy-mod-io stop
service gc-zy-mod-io status
----

zhiyan-mod-memory
[source, bash]
----
chkconfig --add gc-zy-mod-memory
chkconfig gc-zy-mod-memory on
service gc-zy-mod-memory restart
service gc-zy-mod-memory stop
service gc-zy-mod-memory status
----

zhiyan-mod-processes
[source, bash]
----
chkconfig --add gc-zy-mod-processes
chkconfig gc-zy-mod-processes on 
service gc-zy-mod-processes restart          
service gc-zy-mod-processes stop
service gc-zy-mod-processes status
----

zhiyan-mod-swap
[source, bash]
----
chkconfig --add gc-zy-mod-swap
chkconfig gc-zy-mod-swap on
service gc-zy-mod-swap restart
service gc-zy-mod-swap stop
service gc-zy-mod-swap status
----

zhiyan-mod-tasks
[source, bash]
----
chkconfig --add gc-zy-mod-tasks
chkconfig gc-zy-mod-tasks on
service gc-zy-mod-tasks restart
service gc-zy-mod-tasks stop
service gc-zy-mod-tasks status
----

zhiyan-mod-uptime
[source, bash]
----
chkconfig --add gc-zy-mod-uptime
chkconfig gc-zy-mod-uptime on
service gc-zy-mod-uptime restart
service gc-zy-mod-uptime stop
service gc-zy-mod-uptime status
----

zhiyan-mod-network-route
[source, bash]
----
chkconfig --add gc-zy-mod-network-route
chkconfig gc-zy-mod-network-route on
service gc-zy-mod-network-route restart       
service gc-zy-mod-network-route stop
service gc-zy-mod-network-route status
----

zhiyan-mod-filesystem
[source, bash]
----
chkconfig --add gc-zy-mod-filesystem
chkconfig gc-zy-mod-filesystem on
service gc-zy-mod-filesystem restart        
service gc-zy-mod-filesystem stop
service gc-zy-mod-filesystem status
----

zhiyan-mod-network-address
[source, bash]
----
chkconfig --add gc-zy-mod-network-address
chkconfig gc-zy-mod-network-address on
service gc-zy-mod-network-address restart    
service gc-zy-mod-network-address stop
service gc-zy-mod-network-address status
----

zhiyan-mod-load
[source, bash]
----
chkconfig --add gc-zy-mod-load
chkconfig gc-zy-mod-load on
service gc-zy-mod-load restart
service gc-zy-mod-load stop
service gc-zy-mod-load status
----

zhiyan-mod-network
[source, bash]
----
chkconfig --add gc-zy-mod-network
chkconfig gc-zy-mod-network on
service gc-zy-mod-network restart
service gc-zy-mod-network stop
service gc-zy-mod-network status
----

=== 服务端日志文件以及配置文件路径

==== zhiyan-web-server

zhiyan-web-server日志文件路径：

----
/var/log/zy/web-server.log
----

zhiyan-web-server配置文件路径：

----
/opt/gc/zy/etc/web-server.logback.xml
/opt/gc/zy/etc/web-server.properties
----

==== zhiyan-server

zhiyan-server日志文件路径：

----
/var/log/zy/server.log
----

zhiyan-server配置文件路径：

----
/opt/gc/zy/etc/server.conf
/opt/gc/zy/etc/server.log.yaml
----

=== 客户端日志文件以及配置文件路径

==== zhiyn-agent

zhiyan-agent日志文件路径：

----
/var/log/zy/agent.log
----

zhiyan-agent配置文件路径：

----
/opt/gc/zy/etc/agent.conf
/opt/gc/zy/etc/agent.log.yaml
----

==== zhiyan-module

[NOTE]
Python模块的配置文件只有一个：/opt/gc/zy/etc/*.conf，Python模块有：gc-zy-mod-filesystem，gc-zy-mod-processes，gc-zy-mod-network-address

zhiyan-module日志文件路径：

----
/var/log/zy/*.log
----

zhiyan-module配置文件路径：

----
/opt/gc/zy/etc/*.conf
/opt/gc/zy/etc/*.log.yaml
----