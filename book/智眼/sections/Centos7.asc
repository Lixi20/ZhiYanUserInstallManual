== CentOS7 

=== 关闭SELINUX与防火墙
[source, bash]
----
echo SELINUX=disabled>/etc/selinux/config
echo SELINUXTYPE=targeted>>/etc/selinux/config
----

[source, bash]
----
临时关闭命令： systemctl stop firewalld
永久关闭命令： systemctl disable firewalld
----

=== 安装仓库

[source, bash]
----
yum install -y https://packages.cdgeekcamp.com/zhiyan/el/7/x86_64/gc-zy-release-latest-7.x86_64.rpm
----

确认仓库是否存在：

[source, bash]
----
yum repolist | grep gc-zy
----

如有以下输出就表示仓库安装成功：
----
[root@localhost ~]# yum repolist | grep gc-zy
gc-zy                    gc-zy                                                25
----

=== 生成yum缓存

[source, bash]
----
yum clean all && yum makecache
----

=== 安装智眼服务端

==== 安装 zhiyan-web

[source, bash]
----
yum install -y gc-zy-web
----

如有以下输出就表示zhiyan-web安装成功：

----
[root@localhost ~]# yum install -y gc-zy-web
已加载插件：fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * centos-sclo-rh: mirrors.huaweicloud.com
 * centos-sclo-sclo: mirrors.huaweicloud.com
 * epel: mirrors.bfsu.edu.cn
 * extras: mirrors.huaweicloud.com
 * updates: mirrors.aliyun.com
正在解决依赖关系
--> 正在检查事务
---> 软件包 gc-zy-web.x86_64.0.0.0.1.0-1 将被 安装
--> 解决依赖关系完成

........
........

已安装:
  gc-zy-web.x86_64 0:0.0.1.0-1                                                                  

完毕！
----

==== 安装 zhiyan-web-server

[source, bash]
----
yum install -y gc-zy-web-server
----

如有以下输出就表示zhiyan-web-server安装成功：

----
[root@localhost ~]# yum install -y gc-zy-web-server
已加载插件：fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * centos-sclo-rh: mirrors.huaweicloud.com
 * centos-sclo-sclo: mirrors.huaweicloud.com
 * epel: mirrors.bfsu.edu.cn
 * extras: mirrors.huaweicloud.com
 * updates: mirrors.aliyun.com
正在解决依赖关系
--> 正在检查事务
---> 软件包 gc-zy-web-server.x86_64.0.0.0.1.0-1 将被 安装
--> 解决依赖关系完成

........
........

已安装:
  gc-zy-web-server.x86_64 0:0.0.1.0-1                                                           

完毕！
----

==== 安装 zhiyan-server

[source, bash]
----
yum install -y gc-zy-server
----

如有以下输出就表示zhiyan-server安装成功：

----
[root@localhost ~]# yum install -y gc-zy-server
已加载插件：fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * centos-sclo-rh: mirrors.huaweicloud.com
 * centos-sclo-sclo: mirrors.huaweicloud.com
 * epel: mirrors.bfsu.edu.cn
 * extras: mirrors.huaweicloud.com
 * updates: mirrors.aliyun.com
正在解决依赖关系
--> 正在检查事务
---> 软件包 gc-zy-server.x86_64.0.0.0.1.0-1 将被 安装
--> 解决依赖关系完成

........
........

已安装:
  gc-zy-server.x86_64 0:0.0.1.0-1                                                               

完毕！
----

=== 安装智眼客户端

==== 安装 zhiyan-db

[source, bash]
----
yum install -y gc-zy-db-12-libs gc-zy-db-12 gc-zy-db-12-server
----

如有以下输出就表示zhiyan-db安装成功：

----
[root@localhost ~]# yum install -y gc-zy-db-12-libs gc-zy-db-12 gc-zy-db-12-server
已加载插件：fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * centos-sclo-rh: mirrors.huaweicloud.com
 * centos-sclo-sclo: mirrors.huaweicloud.com
 * epel: mirrors.bfsu.edu.cn
 * extras: mirrors.huaweicloud.com
 * updates: mirrors.aliyun.com
正在解决依赖关系
--> 正在检查事务
---> 软件包 gc-zy-db-12.x86_64.0.12.11-2PGDG.el7 将被 安装
---> 软件包 gc-zy-db-12-libs.x86_64.0.12.11-2PGDG.el7 将被 安装
---> 软件包 gc-zy-db-12-server.x86_64.0.12.11-2PGDG.el7 将被 安装
--> 解决依赖关系完成

........
........

已安装:
  gc-zy-db-12.x86_64 0:12.11-2PGDG.el7            gc-zy-db-12-libs.x86_64 0:12.11-2PGDG.el7    
  gc-zy-db-12-server.x86_64 0:12.11-2PGDG.el7    

完毕！
----

==== 安装 zhiyan-agent

[source, bash]
----
yum install -y gc-zy-agent
----

如有以下输出就表示zhiyan-agent安装成功：

----
[root@localhost ~]# yum install -y gc-zy-agent
已加载插件：fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * centos-sclo-rh: mirrors.huaweicloud.com
 * centos-sclo-sclo: mirrors.huaweicloud.com
 * epel: mirrors.bfsu.edu.cn
 * extras: mirrors.huaweicloud.com
 * updates: mirrors.aliyun.com
正在解决依赖关系
--> 正在检查事务
---> 软件包 gc-zy-agent.x86_64.0.0.0.1.0-1 将被 安装
--> 解决依赖关系完成

........
........

已安装:
  gc-zy-agent.x86_64 0:0.0.1.0-1                                                                

完毕
----

==== 安装 python lib库

[source, bash]
----
yum install -y gc-zy-libzygrpc-python gc-zy-libzymod-python
----

如有以下输出就表示python lib库安装成功：

----
[root@localhost ~]# yum install -y gc-zy-libzygrpc-python gc-zy-libzymod-python
已加载插件：fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * centos-sclo-rh: mirrors.huaweicloud.com
 * centos-sclo-sclo: mirrors.huaweicloud.com
 * epel: mirrors.bfsu.edu.cn
 * extras: mirrors.huaweicloud.com
 * updates: mirrors.aliyun.com
正在解决依赖关系
--> 正在检查事务
---> 软件包 gc-zy-libzygrpc-python.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-libzymod-python.x86_64.0.0.0.1.0-1 将被 安装
--> 解决依赖关系完成

........
........

已安装:
  gc-zy-libzygrpc-python.x86_64 0:0.0.1.0-1       gc-zy-libzymod-python.x86_64 0:0.0.1.0-1      

完毕！
----

==== 安装 zhiyan-module

[source, bash]
----
yum install -y gc-zy-mod-bandwidth gc-zy-mod-cpu gc-zy-mod-dns gc-zy-mod-processes gc-zy-mod-network-address gc-zy-mod-filesystem gc-zy-mod-hostname gc-zy-mod-io gc-zy-mod-load gc-zy-mod-memory gc-zy-mod-network gc-zy-mod-network-route gc-zy-mod-swap gc-zy-mod-tasks gc-zy-mod-uptime
----

如有以下输出就表示zhiyan-module安装成功：

----
[root@localhost ~]# yum install -y gc-zy-mod-bandwidth gc-zy-mod-cpu gc-zy-mod-dns gc-zy-mod-processes gc-zy-mod-network-address gc-zy-mod-filesystem gc-zy-mod-hostname gc-zy-mod-io gc-zy-mod-load gc-zy-mod-memory gc-zy-mod-network gc-zy-mod-network-route gc-zy-mod-swap gc-zy-mod-tasks gc-zy-mod-uptime
已加载插件：fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * centos-sclo-rh: mirrors.huaweicloud.com
 * centos-sclo-sclo: mirrors.huaweicloud.com
 * epel: mirrors.bfsu.edu.cn
 * extras: mirrors.huaweicloud.com
 * updates: mirrors.aliyun.com
正在解决依赖关系
--> 正在检查事务
---> 软件包 gc-zy-mod-bandwidth.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-cpu.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-dns.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-filesystem.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-hostname.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-io.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-load.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-memory.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-network.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-network-address.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-network-route.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-processes.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-swap.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-tasks.x86_64.0.0.0.1.0-1 将被 安装
---> 软件包 gc-zy-mod-uptime.x86_64.0.0.0.1.0-1 将被 安装
--> 解决依赖关系完成

........
........

已安装:
  gc-zy-mod-bandwidth.x86_64 0:0.0.1.0-1        gc-zy-mod-cpu.x86_64 0:0.0.1.0-1               
  gc-zy-mod-dns.x86_64 0:0.0.1.0-1              gc-zy-mod-filesystem.x86_64 0:0.0.1.0-1        
  gc-zy-mod-hostname.x86_64 0:0.0.1.0-1         gc-zy-mod-io.x86_64 0:0.0.1.0-1                
  gc-zy-mod-load.x86_64 0:0.0.1.0-1             gc-zy-mod-memory.x86_64 0:0.0.1.0-1            
  gc-zy-mod-network.x86_64 0:0.0.1.0-1          gc-zy-mod-network-address.x86_64 0:0.0.1.0-1   
  gc-zy-mod-network-route.x86_64 0:0.0.1.0-1    gc-zy-mod-processes.x86_64 0:0.0.1.0-1         
  gc-zy-mod-swap.x86_64 0:0.0.1.0-1             gc-zy-mod-tasks.x86_64 0:0.0.1.0-1             
  gc-zy-mod-uptime.x86_64 0:0.0.1.0-1          

完毕！
----

=== 使用

==== 运行智眼脚本

[source, bash]
----
sh /opt/gc/zy/bin/gc-zy-init
----

访问网页：

----
http://localhost:6222
----

默认帐号密码：

----
帐号：admin

密码：zhiyan
----

=== 系统命令管理服务端

zhiyan-web-server
[source, bash]
----
systemctl  enable gc-zy-web-server
systemctl  start gc-zy-web-server
systemctl  status gc-zy-web-server
systemctl  restart gc-zy-web-server
systemctl  stop gc-zy-web-server
----

zhiyan-server
[source, bash]
----
systemctl  enable gc-zy-server
systemctl  start gc-zy-server
systemctl  status gc-zy-server
systemctl  restart gc-zy-server
systemctl  stop gc-zy-server
----

=== 系统命令管理客户端

zhiyan-agent
[source, bash]
----
systemctl  enable gc-zy-agent
systemctl  start gc-zy-agent
systemctl  status gc-zy-agent
systemctl  restart gc-zy-agent
systemctl  stop gc-zy-agent
----

zhiyan-mod-bandwidth
[source, bash]
----
systemctl  enable gc-zy-mod-bandwidth
systemctl  start gc-zy-mod-bandwidth
systemctl  status gc-zy-mod-bandwidth
systemctl  restart gc-zy-mod-bandwidth
systemctl  stop gc-zy-mod-bandwidth
----

zhiyan-mod-cpu
[source, bash]
----
systemctl  enable gc-zy-mod-cpu
systemctl  start gc-zy-mod-cpu
systemctl  status gc-zy-mod-cpu
systemctl  restart gc-zy-mod-cpu
systemctl  stop gc-zy-mod-cpu
----

zhiyan-mod-dns
[source, bash]
----
systemctl  enable gc-zy-mod-dns
systemctl  start gc-zy-mod-dns
systemctl  status gc-zy-mod-dns
systemctl  restart gc-zy-mod-dns
systemctl  stop gc-zy-mod-dns
----

zhiyan-mod-hostname
[source, bash]
----
systemctl  enable gc-zy-mod-hostname
systemctl  start gc-zy-mod-hostname
systemctl  status gc-zy-mod-hostname
systemctl  restart gc-zy-mod-hostname
systemctl  stop gc-zy-mod-hostname
----

zhiyan-mod-io
[source, bash]
----
systemctl  enable gc-zy-mod-io
systemctl  start gc-zy-mod-io
systemctl  status gc-zy-mod-io
systemctl  restart gc-zy-mod-io
systemctl  stop gc-zy-mod-io
----

zhiyan-mod-memory
[source, bash]
----
systemctl  enable gc-zy-mod-memory
systemctl  start gc-zy-mod-memory
systemctl  status gc-zy-mod-memory
systemctl  restart gc-zy-mod-memory
systemctl  stop gc-zy-mod-memory
----

zhiyan-mod-processes
[source, bash]
----
systemctl  enable gc-zy-mod-processes
systemctl  start gc-zy-mod-processes
systemctl  status gc-zy-mod-processes               
systemctl  restart gc-zy-mod-processes
systemctl  stop gc-zy-mod-processes
----

zhiyan-mod-swap
[source, bash]
----
systemctl  enable gc-zy-mod-swap
systemctl  start gc-zy-mod-swap
systemctl  status gc-zy-mod-swap
systemctl  restart gc-zy-mod-swap
systemctl  stop gc-zy-mod-swap
----

zhiyan-mod-tasks
[source, bash]
----
systemctl  enable gc-zy-mod-tasks
systemctl  start gc-zy-mod-tasks
systemctl  status gc-zy-mod-tasks
systemctl  restart gc-zy-mod-tasks
systemctl  stop gc-zy-mod-tasks
----

zhiyan-mod-uptime
[source, bash]
----
systemctl  enable gc-zy-mod-uptime
systemctl  start gc-zy-mod-uptime
systemctl  status gc-zy-mod-uptime
systemctl  restart gc-zy-mod-uptime
systemctl  stop gc-zy-mod-uptime
----

zhiyan-mod-network-route
[source, bash]
----
systemctl  enable gc-zy-mod-network-route
systemctl  start gc-zy-mod-network-route
systemctl  status gc-zy-mod-network-route           
systemctl  restart gc-zy-mod-network-route
systemctl  stop gc-zy-mod-network-route
----

zhiyan-mod-filesystem
[source, bash]
----
systemctl  enable gc-zy-mod-filesystem
systemctl  start gc-zy-mod-filesystem
systemctl  status gc-zy-mod-filesystem              
systemctl  restart gc-zy-mod-filesystem
systemctl  stop gc-zy-mod-filesystem
----

zhiyan-mod-network-address
[source, bash]
----
systemctl  enable gc-zy-mod-network-address
systemctl  start gc-zy-mod-network-address
systemctl  status gc-zy-mod-network-address       
systemctl  restart gc-zy-mod-network-address
systemctl  stop gc-zy-mod-network-address
----

zhiyan-mod-load
[source, bash]
----
systemctl  enable gc-zy-mod-load
systemctl  start gc-zy-mod-load
systemctl  status gc-zy-mod-load
systemctl  restart gc-zy-mod-load
systemctl  stop gc-zy-mod-load
----

zhiyan-mod-network
[source, bash]
----
systemctl  enable gc-zy-mod-network
systemctl  start gc-zy-mod-network
systemctl  status gc-zy-mod-network
systemctl  restart gc-zy-mod-network
systemctl  stop gc-zy-mod-network
----

=== 服务端日志文件以及配置文件路径

==== zhiyan-web-server

zhiyan-web-server日志文件路径：

----
/var/log/zy/web-server.log
----

zhiyan-web-server配置文件路径：

----
/opt/gc/zy/etc/web-server.logback.xml
/opt/gc/zy/etc/web-server.properties
----

==== zhiyan-server

zhiyan-server日志文件路径：

----
/var/log/zy/server.log
----

zhiyan-server配置文件路径：

----
/opt/gc/zy/etc/server.conf
/opt/gc/zy/etc/server.log.yaml
----

=== 客户端日志文件以及配置文件路径

==== zhiyn-agent

zhiyan-agent日志文件路径：

----
/var/log/zy/agent.log
----

zhiyan-agent配置文件路径：

----
/opt/gc/zy/etc/agent.conf
/opt/gc/zy/etc/agent.log.yaml
----

==== zhiyan-module

[NOTE]
Python模块的配置文件只有一个：/opt/gc/zy/etc/*.conf，Python模块有：gc-zy-mod-filesystem，gc-zy-mod-processes，gc-zy-mod-network-address

zhiyan-module日志文件路径：

----
/var/log/zy/*.log
----

zhiyan-module配置文件路径：

----
/opt/gc/zy/etc/*.conf
/opt/gc/zy/etc/*.log.yaml
----
